generator client {
  provider      = "prisma-client-js"
  output        = "../../../node_modules/.prisma/client"
  binaryTargets = ["native", "linux-musl"]
}

datasource mariasql {
  provider = "mysql"
  url      = env("PACKRAT_DATABASE_URL")
}

model AccessAction {
  idAccessAction             Int                          @id @default(autoincrement())
  Name                       String                       @mariasql.VarChar(255)
  SortOrder                  Int
  AccessRoleAccessActionXref AccessRoleAccessActionXref[]

  @@index([SortOrder], map: "AccessAction_SortOrder")
}

model AccessContext {
  idAccessContext     Int                   @id @default(autoincrement())
  Global              Boolean
  Authoritative       Boolean
  CaptureData         Boolean
  Model               Boolean
  Scene               Boolean
  IntermediaryFile    Boolean
  AccessContextObject AccessContextObject[]
  AccessPolicy        AccessPolicy[]
}

model AccessContextObject {
  idAccessContextObject Int           @id @default(autoincrement())
  idAccessContext       Int
  idSystemObject        Int
  AccessContext         AccessContext @relation(fields: [idAccessContext], references: [idAccessContext], onDelete: NoAction, onUpdate: NoAction, map: "fk_accesscontextobject_accesscontext1")
  SystemObject          SystemObject  @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_accesscontextobject_systemobject1")

  @@index([idAccessContext], map: "AccessContextObject_idAccessContext")
  @@index([idSystemObject], map: "AccessContextObject_idSystemObject")
}

model AccessPolicy {
  idAccessPolicy  Int           @id @default(autoincrement())
  idUser          Int
  idAccessRole    Int
  idAccessContext Int
  AccessContext   AccessContext @relation(fields: [idAccessContext], references: [idAccessContext], onDelete: NoAction, onUpdate: NoAction, map: "fk_accesspolicy_accesscontext1")
  AccessRole      AccessRole    @relation(fields: [idAccessRole], references: [idAccessRole], onDelete: NoAction, onUpdate: NoAction, map: "fk_accesspolicy_accessrole1")
  User            User          @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_accesspolicy_user1")

  @@index([idAccessContext], map: "AccessPolicy_idAccessContext")
  @@index([idAccessRole], map: "AccessPolicy_idAccessRole")
  @@index([idUser], map: "AccessPolicy_idUser")
}

model AccessRole {
  idAccessRole               Int                          @id @default(autoincrement())
  Name                       String                       @mariasql.VarChar(255)
  AccessPolicy               AccessPolicy[]
  AccessRoleAccessActionXref AccessRoleAccessActionXref[]
}

model AccessRoleAccessActionXref {
  idAccessRoleAccessActionXref Int          @id @default(autoincrement())
  idAccessRole                 Int
  idAccessAction               Int
  AccessAction                 AccessAction @relation(fields: [idAccessAction], references: [idAccessAction], onDelete: NoAction, onUpdate: NoAction, map: "fk_accessroleaccessactionxref_accessaction1")
  AccessRole                   AccessRole   @relation(fields: [idAccessRole], references: [idAccessRole], onDelete: NoAction, onUpdate: NoAction, map: "fk_accessroleaccessactionxref_accessrole1")

  @@index([idAccessAction], map: "AccessRoleAccessActionXref_idAccessAction")
  @@index([idAccessRole], map: "AccessRoleAccessActionXref_idAccessRole")
}

model Actor {
  idActor               Int                     @id @default(autoincrement())
  IndividualName        String?                 @mariasql.VarChar(255)
  OrganizationName      String?                 @mariasql.VarChar(255)
  idUnit                Int?
  Unit                  Unit?                   @relation(fields: [idUnit], references: [idUnit], onDelete: NoAction, onUpdate: NoAction, map: "fk_actor_unit_1")
  ModelProcessingAction ModelProcessingAction[]
  SystemObject          SystemObject?

  @@index([idUnit], map: "fk_actor_unit_1")
}

model Asset {
  idAsset                                         Int                  @id @default(autoincrement())
  FileName                                        String               @mariasql.VarChar(512)
  idAssetGroup                                    Int?
  idVAssetType                                    Int
  idSystemObject                                  Int?
  StorageKey                                      String?              @unique(map: "StorageKey") @mariasql.VarChar(512)
  AssetGroup                                      AssetGroup?          @relation(fields: [idAssetGroup], references: [idAssetGroup], onDelete: NoAction, onUpdate: NoAction, map: "fk_asset_assetgroup1")
  SystemObject_Asset_idSystemObjectToSystemObject SystemObject?        @relation("Asset_idSystemObjectToSystemObject", fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_asset_systemobject1")
  Vocabulary                                      Vocabulary           @relation(fields: [idVAssetType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_asset_vocabulary1")
  AssetVersion                                    AssetVersion[]
  CaptureData                                     CaptureData[]
  CaptureDataFile                                 CaptureDataFile[]
  IntermediaryFile                                IntermediaryFile[]
  Item                                            Item[]
  Model                                           Model[]
  ModelMaterialUVMap                              ModelMaterialUVMap[]
  Scene                                           Scene[]
  Subject                                         Subject[]
  SystemObject_AssetToSystemObject_idAsset        SystemObject?        @relation("AssetToSystemObject_idAsset")

  @@index([idAssetGroup], map: "Asset_idAssetGroup")
  @@index([idSystemObject], map: "fk_asset_systemobject1")
  @@index([idVAssetType], map: "fk_asset_vocabulary1")
}

model AssetGroup {
  idAssetGroup Int     @id @default(autoincrement())
  Asset        Asset[]
}

model AssetVersion {
  idAssetVersion                                         Int                                   @id @default(autoincrement())
  idAsset                                                Int
  Version                                                Int
  FileName                                               String                                @mariasql.VarChar(512)
  idUserCreator                                          Int
  DateCreated                                            DateTime                              @mariasql.DateTime(0)
  StorageHash                                            String                                @mariasql.VarChar(128)
  StorageSize                                            BigInt                                @default(0)
  StorageKeyStaging                                      String                                @mariasql.VarChar(512)
  Ingested                                               Boolean?
  BulkIngest                                             Boolean
  idSOAttachment                                         Int?
  FilePath                                               String                                @mariasql.VarChar(512)
  Comment                                                String?                               @mariasql.Text
  Asset                                                  Asset                                 @relation(fields: [idAsset], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_assetversion_asset1")
  SystemObject_AssetVersion_idSOAttachmentToSystemObject SystemObject?                         @relation("AssetVersion_idSOAttachmentToSystemObject", fields: [idSOAttachment], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_assetversion_systemobject1")
  User                                                   User                                  @relation(fields: [idUserCreator], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_assetversion_user1")
  Metadata                                               Metadata[]
  SystemObject_AssetVersionToSystemObject_idAssetVersion SystemObject?                         @relation("AssetVersionToSystemObject_idAssetVersion")
  SystemObjectVersionAssetVersionXref                    SystemObjectVersionAssetVersionXref[]

  @@index([Ingested, idUserCreator], map: "AssetVersion_Ingested_idUserCreator")
  @@index([StorageHash], map: "AssetVersion_StorageHash")
  @@index([StorageKeyStaging], map: "AssetVersion_StorageKeyStaging")
  @@index([idAsset, Version], map: "AssetVersion_idAsset_Version")
  @@index([idUserCreator, Ingested], map: "AssetVersion_idUserCreator_Ingested")
  @@index([idSOAttachment], map: "fk_assetversion_systemobject1")
}

model Audit {
  idAudit        Int           @id @default(autoincrement())
  idUser         Int?
  AuditDate      DateTime      @mariasql.DateTime(0)
  AuditType      Int
  DBObjectType   Int?
  idDBObject     Int?
  idSystemObject Int?
  Data           String?       @mariasql.LongText
  SystemObject   SystemObject? @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_audit_systemobject1")
  User           User?         @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_audit_user1")

  @@index([DBObjectType, idDBObject, AuditDate], map: "Audit_idAsset_DBObjectType_idDBObject_AuditDate")
  @@index([idSystemObject, AuditDate], map: "Audit_idAsset_idSystemObject_AuditDate")
  @@index([idUser, AuditDate], map: "Audit_idAsset_idUser_AuditDate")
}

model CaptureData {
  idCaptureData                   Int                               @id @default(autoincrement())
  Name                            String                            @mariasql.VarChar(255)
  idVCaptureMethod                Int
  DateCaptured                    DateTime                          @mariasql.DateTime(0)
  Description                     String                            @mariasql.VarChar(8000)
  idAssetThumbnail                Int?
  Asset                           Asset?                            @relation(fields: [idAssetThumbnail], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedata_asset1")
  Vocabulary                      Vocabulary                        @relation(fields: [idVCaptureMethod], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedata_vocabulary1")
  CaptureDataFile                 CaptureDataFile[]
  CaptureDataGroupCaptureDataXref CaptureDataGroupCaptureDataXref[]
  CaptureDataPhoto                CaptureDataPhoto[]
  SystemObject                    SystemObject?

  @@index([idAssetThumbnail], map: "fk_capturedata_asset1")
  @@index([idVCaptureMethod], map: "fk_capturedata_vocabulary1")
}

model CaptureDataFile {
  idCaptureDataFile       Int         @id @default(autoincrement())
  idCaptureData           Int
  idAsset                 Int
  idVVariantType          Int?
  CompressedMultipleFiles Boolean
  Asset                   Asset       @relation(fields: [idAsset], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedatafile_asset1")
  CaptureData             CaptureData @relation(fields: [idCaptureData], references: [idCaptureData], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedatafile_capturedata1")
  Vocabulary              Vocabulary? @relation(fields: [idVVariantType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedatafile_vocabulary1")

  @@index([idAsset], map: "CaptureDataFile_idAsset")
  @@index([idCaptureData], map: "CaptureDataFile_idCaptureData")
  @@index([idVVariantType], map: "fk_capturedatafile_vocabulary1")
}

model CaptureDataGroup {
  idCaptureDataGroup              Int                               @id @default(autoincrement())
  CaptureDataGroupCaptureDataXref CaptureDataGroupCaptureDataXref[]
}

model CaptureDataGroupCaptureDataXref {
  idCaptureDataGroupCaptureDataXref Int              @id @default(autoincrement())
  idCaptureDataGroup                Int
  idCaptureData                     Int
  CaptureData                       CaptureData      @relation(fields: [idCaptureData], references: [idCaptureData], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedatagroupcapturedataxref_capturedata1")
  CaptureDataGroup                  CaptureDataGroup @relation(fields: [idCaptureDataGroup], references: [idCaptureDataGroup], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedatagroupcapturedataxref_capturedatagroup1")

  @@index([idCaptureData], map: "CaptureDataGroupCaptureDataXref_idCaptureData")
  @@index([idCaptureDataGroup], map: "CaptureDataGroupCaptureDataXref_idCaptureDataGroup")
}

model CaptureDataPhoto {
  idCaptureDataPhoto                                                 Int         @id @default(autoincrement())
  idCaptureData                                                      Int
  idVCaptureDatasetType                                              Int
  CaptureDatasetUse                                                  String      @default("[207,208,209]") @mariasql.LongText
  CaptureDatasetFieldID                                              Int?
  idVItemPositionType                                                Int?
  ItemPositionFieldID                                                Int?
  ItemArrangementFieldID                                             Int?
  idVFocusType                                                       Int?
  idVLightSourceType                                                 Int?
  idVBackgroundRemovalMethod                                         Int?
  idVClusterType                                                     Int?
  ClusterGeometryFieldID                                             Int?
  CameraSettingsUniform                                              Boolean?
  CaptureData                                                        CaptureData @relation(fields: [idCaptureData], references: [idCaptureData], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_capturedata1")
  Vocabulary_CaptureDataPhoto_idVCaptureDatasetTypeToVocabulary      Vocabulary  @relation("CaptureDataPhoto_idVCaptureDatasetTypeToVocabulary", fields: [idVCaptureDatasetType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary1")
  Vocabulary_CaptureDataPhoto_idVItemPositionTypeToVocabulary        Vocabulary? @relation("CaptureDataPhoto_idVItemPositionTypeToVocabulary", fields: [idVItemPositionType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary2")
  Vocabulary_CaptureDataPhoto_idVFocusTypeToVocabulary               Vocabulary? @relation("CaptureDataPhoto_idVFocusTypeToVocabulary", fields: [idVFocusType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary3")
  Vocabulary_CaptureDataPhoto_idVLightSourceTypeToVocabulary         Vocabulary? @relation("CaptureDataPhoto_idVLightSourceTypeToVocabulary", fields: [idVLightSourceType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary4")
  Vocabulary_CaptureDataPhoto_idVBackgroundRemovalMethodToVocabulary Vocabulary? @relation("CaptureDataPhoto_idVBackgroundRemovalMethodToVocabulary", fields: [idVBackgroundRemovalMethod], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary5")
  Vocabulary_CaptureDataPhoto_idVClusterTypeToVocabulary             Vocabulary? @relation("CaptureDataPhoto_idVClusterTypeToVocabulary", fields: [idVClusterType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_capturedataphoto_vocabulary6")

  @@index([idCaptureData], map: "fk_capturedataphoto_capturedata1")
  @@index([idVCaptureDatasetType], map: "fk_capturedataphoto_vocabulary1")
  @@index([idVItemPositionType], map: "fk_capturedataphoto_vocabulary2")
  @@index([idVFocusType], map: "fk_capturedataphoto_vocabulary3")
  @@index([idVLightSourceType], map: "fk_capturedataphoto_vocabulary4")
  @@index([idVBackgroundRemovalMethod], map: "fk_capturedataphoto_vocabulary5")
  @@index([idVClusterType], map: "fk_capturedataphoto_vocabulary6")
}

model GeoLocation {
  idGeoLocation Int       @id @default(autoincrement())
  Latitude      Float?
  Longitude     Float?
  Altitude      Float?
  TS0           Float?
  TS1           Float?
  TS2           Float?
  R0            Float?
  R1            Float?
  R2            Float?
  R3            Float?
  Item          Item[]
  Subject       Subject[]
}

model Identifier {
  idIdentifier      Int           @id @default(autoincrement())
  IdentifierValue   String
  idVIdentifierType Int
  idSystemObject    Int?
  SystemObject      SystemObject? @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_identifier_systemobject1")
  Vocabulary        Vocabulary    @relation(fields: [idVIdentifierType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_identifier_vocabulary1")
  Subject           Subject[]

  @@index([IdentifierValue], map: "Identifier_IdentifierValue")
  @@index([idSystemObject, idVIdentifierType], map: "Identifier_idSystemObject_idVIdentifierType")
  @@index([idVIdentifierType, IdentifierValue], map: "Identifier_idVIdentifierType_IdentifierValue")
}

model IntermediaryFile {
  idIntermediaryFile Int           @id @default(autoincrement())
  idAsset            Int
  DateCreated        DateTime      @mariasql.DateTime(0)
  Asset              Asset         @relation(fields: [idAsset], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_intermediaryfile_asset1")
  SystemObject       SystemObject?

  @@index([idAsset], map: "fk_intermediaryfile_asset1")
}

model Item {
  idItem           Int           @id @default(autoincrement())
  idAssetThumbnail Int?
  idGeoLocation    Int?
  Name             String        @mariasql.VarChar(255)
  EntireSubject    Boolean
  Title            String?       @mariasql.VarChar(255)
  Asset            Asset?        @relation(fields: [idAssetThumbnail], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_item_asset1")
  GeoLocation      GeoLocation?  @relation(fields: [idGeoLocation], references: [idGeoLocation], onDelete: NoAction, onUpdate: NoAction, map: "fk_item_geolocation1")
  SystemObject     SystemObject?

  @@index([idAssetThumbnail], map: "fk_item_asset1")
  @@index([idGeoLocation], map: "fk_item_geolocation1")
}

model Job {
  idJob      Int        @id @default(autoincrement())
  idVJobType Int
  Name       String     @mariasql.VarChar(80)
  Status     Int
  Frequency  String?    @mariasql.VarChar(80)
  Vocabulary Vocabulary @relation(fields: [idVJobType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_job_vocabulary1")
  JobRun     JobRun[]

  @@index([Name], map: "Job_Name")
  @@index([Status], map: "Job_Status")
  @@index([idVJobType, idJob], map: "Job_idVJobType_idJob")
}

model JobRun {
  idJobRun      Int            @id @default(autoincrement())
  idJob         Int
  Status        Int
  Result        Boolean?
  DateStart     DateTime?      @mariasql.DateTime(0)
  DateEnd       DateTime?      @mariasql.DateTime(0)
  Configuration String?        @mariasql.Text
  Parameters    String?        @mariasql.Text
  Output        String?        @mariasql.LongText
  Error         String?        @mariasql.Text
  Job           Job            @relation(fields: [idJob], references: [idJob], onDelete: NoAction, onUpdate: NoAction, map: "fk_jobrun_job1")
  WorkflowStep  WorkflowStep[]

  @@index([Status], map: "JobRun_Status")
  @@index([idJob], map: "JobRun_idJob")
}

model License {
  idLicense         Int                 @id @default(autoincrement())
  Name              String              @mariasql.VarChar(255)
  Description       String              @mariasql.VarChar(8000)
  RestrictLevel     Int
  LicenseAssignment LicenseAssignment[]
}

model LicenseAssignment {
  idLicenseAssignment Int           @id @default(autoincrement())
  idLicense           Int
  idUserCreator       Int?
  DateStart           DateTime?     @mariasql.DateTime(0)
  DateEnd             DateTime?     @mariasql.DateTime(0)
  idSystemObject      Int?
  License             License       @relation(fields: [idLicense], references: [idLicense], onDelete: NoAction, onUpdate: NoAction, map: "fk_licenseassignment_license1")
  SystemObject        SystemObject? @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_licenseassignment_systemobject1")
  User                User?         @relation(fields: [idUserCreator], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_licenseassignment_user1")

  @@index([idSystemObject], map: "LicenseAssignment_idSystemObject")
  @@index([idLicense], map: "fk_licenseassignment_license1")
  @@index([idUserCreator], map: "fk_licenseassignment_user1")
}

model Metadata {
  idMetadata                                               Int           @id @default(autoincrement())
  Name                                                     String        @mariasql.VarChar(100)
  ValueShort                                               String?       @mariasql.VarChar(255)
  ValueExtended                                            String?       @mariasql.LongText
  idAssetVersionValue                                      Int?
  idUser                                                   Int?
  idVMetadataSource                                        Int?
  idSystemObject                                           Int?
  idSystemObjectParent                                     Int?
  AssetVersion                                             AssetVersion? @relation(fields: [idAssetVersionValue], references: [idAssetVersion], onDelete: NoAction, onUpdate: NoAction, map: "fk_metadata_assetversion1")
  SystemObject_Metadata_idSystemObjectToSystemObject       SystemObject? @relation("Metadata_idSystemObjectToSystemObject", fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_metadata_systemobject1")
  SystemObject_Metadata_idSystemObjectParentToSystemObject SystemObject? @relation("Metadata_idSystemObjectParentToSystemObject", fields: [idSystemObjectParent], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_metadata_systemobject2")
  User                                                     User?         @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_metadata_user1")
  Vocabulary                                               Vocabulary?   @relation(fields: [idVMetadataSource], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_metadata_vocabulary1")

  @@index([Name], map: "Metadata_Name")
  @@index([idAssetVersionValue], map: "fk_metadata_assetversion1")
  @@index([idSystemObject], map: "fk_metadata_systemobject1")
  @@index([idSystemObjectParent], map: "fk_metadata_systemobject2")
  @@index([idUser], map: "fk_metadata_user1")
  @@index([idVMetadataSource], map: "fk_metadata_vocabulary1")
}

model Model {
  idModel                                        Int                     @id @default(autoincrement())
  Name                                           String                  @mariasql.VarChar(255)
  DateCreated                                    DateTime                @mariasql.DateTime(0)
  idVCreationMethod                              Int?
  idVModality                                    Int?
  idVUnits                                       Int?
  idVPurpose                                     Int?
  idVFileType                                    Int?
  idAssetThumbnail                               Int?
  CountAnimations                                Int?
  CountCameras                                   Int?
  CountFaces                                     Int?
  CountLights                                    Int?
  CountMaterials                                 Int?
  CountMeshes                                    Int?
  CountVertices                                  Int?
  CountEmbeddedTextures                          Int?
  CountLinkedTextures                            Int?
  FileEncoding                                   String?                 @mariasql.VarChar(40)
  IsDracoCompressed                              Boolean?
  AutomationTag                                  String?                 @mariasql.VarChar(256)
  CountTriangles                                 Int?
  Title                                          String?                 @mariasql.VarChar(255)
  Asset                                          Asset?                  @relation(fields: [idAssetThumbnail], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_asset1")
  Vocabulary_Model_idVCreationMethodToVocabulary Vocabulary?             @relation("Model_idVCreationMethodToVocabulary", fields: [idVCreationMethod], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_vocabulary1")
  Vocabulary_Model_idVModalityToVocabulary       Vocabulary?             @relation("Model_idVModalityToVocabulary", fields: [idVModality], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_vocabulary2")
  Vocabulary_Model_idVUnitsToVocabulary          Vocabulary?             @relation("Model_idVUnitsToVocabulary", fields: [idVUnits], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_vocabulary3")
  Vocabulary_Model_idVPurposeToVocabulary        Vocabulary?             @relation("Model_idVPurposeToVocabulary", fields: [idVPurpose], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_vocabulary4")
  Vocabulary_Model_idVFileTypeToVocabulary       Vocabulary?             @relation("Model_idVFileTypeToVocabulary", fields: [idVFileType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_model_vocabulary5")
  ModelMaterialUVMap                             ModelMaterialUVMap[]
  ModelObject                                    ModelObject[]
  ModelProcessingAction                          ModelProcessingAction[]
  ModelSceneXref                                 ModelSceneXref[]
  SystemObject                                   SystemObject?

  @@index([idAssetThumbnail], map: "fk_model_asset1")
  @@index([idVCreationMethod], map: "fk_model_vocabulary1")
  @@index([idVModality], map: "fk_model_vocabulary2")
  @@index([idVUnits], map: "fk_model_vocabulary3")
  @@index([idVPurpose], map: "fk_model_vocabulary4")
  @@index([idVFileType], map: "fk_model_vocabulary5")
}

model ModelMaterial {
  idModelMaterial              Int                            @id @default(autoincrement())
  Name                         String?                        @mariasql.VarChar(255)
  ModelMaterialChannel         ModelMaterialChannel[]
  ModelObjectModelMaterialXref ModelObjectModelMaterialXref[]
}

model ModelMaterialChannel {
  idModelMaterialChannel Int                 @id @default(autoincrement())
  idModelMaterial        Int
  idVMaterialType        Int?
  MaterialTypeOther      String?             @mariasql.VarChar(255)
  idModelMaterialUVMap   Int?
  UVMapEmbedded          Boolean?
  ChannelPosition        Int?
  ChannelWidth           Int?
  Scalar1                Float?
  Scalar2                Float?
  Scalar3                Float?
  Scalar4                Float?
  AdditionalAttributes   String?             @mariasql.Text
  ModelMaterial          ModelMaterial       @relation(fields: [idModelMaterial], references: [idModelMaterial], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelmaterialchannel_modelmaterial1")
  ModelMaterialUVMap     ModelMaterialUVMap? @relation(fields: [idModelMaterialUVMap], references: [idModelMaterialUVMap], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelmaterialchannel_modelmaterialuvmap1")
  Vocabulary             Vocabulary?         @relation(fields: [idVMaterialType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelmaterialchannel_vocabulary1")

  @@index([idModelMaterial], map: "ModelMaterialChannel_idModelMaterial")
  @@index([idModelMaterialUVMap], map: "fk_modelmaterialchannel_modelmaterialuvmap1")
  @@index([idVMaterialType], map: "fk_modelmaterialchannel_vocabulary1")
}

model ModelMaterialUVMap {
  idModelMaterialUVMap Int                    @id @default(autoincrement())
  idModel              Int
  idAsset              Int
  UVMapEdgeLength      Int
  ModelMaterialChannel ModelMaterialChannel[]
  Asset                Asset                  @relation(fields: [idAsset], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelmaterialuvmap_asset1")
  Model                Model                  @relation(fields: [idModel], references: [idModel], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelmaterialuvmap_model1")

  @@index([idAsset], map: "ModelUVMapFile_idAsset")
  @@index([idModel], map: "ModelUVMapFile_idModel")
}

model ModelObject {
  idModelObject                  Int                            @id @default(autoincrement())
  idModel                        Int
  BoundingBoxP1X                 Float?
  BoundingBoxP1Y                 Float?
  BoundingBoxP1Z                 Float?
  BoundingBoxP2X                 Float?
  BoundingBoxP2Y                 Float?
  BoundingBoxP2Z                 Float?
  CountVertices                  Int?
  CountFaces                     Int?
  CountColorChannels             Int?
  CountTextureCoordinateChannels Int?
  HasBones                       Boolean?
  HasFaceNormals                 Boolean?
  HasTangents                    Boolean?
  HasTextureCoordinates          Boolean?
  HasVertexNormals               Boolean?
  HasVertexColor                 Boolean?
  IsTwoManifoldUnbounded         Boolean?
  IsTwoManifoldBounded           Boolean?
  IsWatertight                   Boolean?
  SelfIntersecting               Boolean?
  CountTriangles                 Int?
  Model                          Model                          @relation(fields: [idModel], references: [idModel], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelobject_model1")
  ModelObjectModelMaterialXref   ModelObjectModelMaterialXref[]

  @@index([idModel], map: "ModelObject_idModel")
}

model ModelObjectModelMaterialXref {
  idModelObjectModelMaterialXref Int           @id @default(autoincrement())
  idModelObject                  Int
  idModelMaterial                Int
  ModelMaterial                  ModelMaterial @relation(fields: [idModelMaterial], references: [idModelMaterial], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelobjectmodelmaterialxref_modelmaterial1")
  ModelObject                    ModelObject   @relation(fields: [idModelObject], references: [idModelObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelobjectmodelmaterialxref_modelobject1")

  @@index([idModelMaterial], map: "ModelObjectModelMaterialXref_idModelMaterial")
  @@index([idModelObject], map: "ModelObjectModelMaterialXref_idModelObject")
}

model ModelProcessingAction {
  idModelProcessingAction   Int                         @id @default(autoincrement())
  idModel                   Int
  idActor                   Int
  DateProcessed             DateTime                    @mariasql.DateTime(0)
  ToolsUsed                 String                      @mariasql.VarChar(1000)
  Description               String                      @mariasql.Text
  Actor                     Actor                       @relation(fields: [idActor], references: [idActor], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelprocessingaction_actor1")
  Model                     Model                       @relation(fields: [idModel], references: [idModel], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelprocessingaction_model1")
  ModelProcessingActionStep ModelProcessingActionStep[]

  @@index([idActor], map: "ModelProcessingAction_idActor")
  @@index([idModel], map: "ModelProcessingAction_idModel")
}

model ModelProcessingActionStep {
  idModelProcessingActionStep Int                   @id @default(autoincrement())
  idModelProcessingAction     Int
  idVActionMethod             Int
  Description                 String                @mariasql.Text
  ModelProcessingAction       ModelProcessingAction @relation(fields: [idModelProcessingAction], references: [idModelProcessingAction], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelprocessingactionstep_modelprocessingaction1")
  Vocabulary                  Vocabulary            @relation(fields: [idVActionMethod], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelprocessingactionstep_vocabulary1")

  @@index([idModelProcessingAction], map: "fk_modelprocessingactionstep_modelprocessingaction1")
  @@index([idVActionMethod], map: "fk_modelprocessingactionstep_vocabulary1")
}

model ModelSceneXref {
  idModelSceneXref Int     @id @default(autoincrement())
  idModel          Int
  idScene          Int
  Name             String? @mariasql.VarChar(512)
  Usage            String? @mariasql.VarChar(100)
  Quality          String? @mariasql.VarChar(100)
  FileSize         BigInt?
  UVResolution     Int?
  BoundingBoxP1X   Float?
  BoundingBoxP1Y   Float?
  BoundingBoxP1Z   Float?
  BoundingBoxP2X   Float?
  BoundingBoxP2Y   Float?
  BoundingBoxP2Z   Float?
  TS0              Float?
  TS1              Float?
  TS2              Float?
  R0               Float?
  R1               Float?
  R2               Float?
  R3               Float?
  S0               Float?
  S1               Float?
  S2               Float?
  Model            Model   @relation(fields: [idModel], references: [idModel], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelscenexref_model1")
  Scene            Scene   @relation(fields: [idScene], references: [idScene], onDelete: NoAction, onUpdate: NoAction, map: "fk_modelscenexref_scene1")

  @@index([idModel], map: "ModelSceneXref_idModel")
  @@index([idScene], map: "ModelSceneXref_idScene")
}

model Project {
  idProject            Int                    @id @default(autoincrement())
  Name                 String                 @mariasql.VarChar(128)
  Description          String?                @mariasql.VarChar(8000)
  ProjectDocumentation ProjectDocumentation[]
  SystemObject         SystemObject?
  Workflow             Workflow[]
}

model ProjectDocumentation {
  idProjectDocumentation Int           @id @default(autoincrement())
  idProject              Int
  Name                   String        @mariasql.VarChar(255)
  Description            String        @mariasql.VarChar(8000)
  Project                Project       @relation(fields: [idProject], references: [idProject], onDelete: NoAction, onUpdate: NoAction, map: "fk_projectdocumentation_project1")
  SystemObject           SystemObject?

  @@index([idProject], map: "fk_projectdocumentation_project1")
}

model Scene {
  idScene                Int              @id @default(autoincrement())
  Name                   String           @mariasql.VarChar(255)
  idAssetThumbnail       Int?
  CountScene             Int?
  CountNode              Int?
  CountCamera            Int?
  CountLight             Int?
  CountModel             Int?
  CountMeta              Int?
  CountSetup             Int?
  CountTour              Int?
  EdanUUID               String?          @mariasql.VarChar(64)
  PosedAndQCd            Boolean
  ApprovedForPublication Boolean
  Title                  String?          @mariasql.VarChar(255)
  ModelSceneXref         ModelSceneXref[]
  Asset                  Asset?           @relation(fields: [idAssetThumbnail], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_scene_asset1")
  SystemObject           SystemObject?

  @@index([idAssetThumbnail], map: "fk_scene_asset1")
}

model Sentinel {
  idSentinel     Int      @id @default(autoincrement())
  URLBase        String   @mariasql.VarChar(512)
  ExpirationDate DateTime @mariasql.DateTime(0)
  idUser         Int
  User           User     @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_sentinel_user1")

  @@index([URLBase], map: "Sentinel_URLBase")
  @@index([idUser], map: "fk_sentinel_user1")
}

model Stakeholder {
  idStakeholder     Int           @id @default(autoincrement())
  IndividualName    String        @mariasql.VarChar(255)
  OrganizationName  String        @mariasql.VarChar(255)
  EmailAddress      String?       @mariasql.VarChar(255)
  PhoneNumberMobile String?       @mariasql.VarChar(32)
  PhoneNumberOffice String?       @mariasql.VarChar(32)
  MailingAddress    String?       @mariasql.VarChar(255)
  SystemObject      SystemObject?
}

model Subject {
  idSubject             Int           @id @default(autoincrement())
  idUnit                Int
  idAssetThumbnail      Int?
  idGeoLocation         Int?
  Name                  String        @mariasql.VarChar(255)
  idIdentifierPreferred Int?
  Asset                 Asset?        @relation(fields: [idAssetThumbnail], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_subject_asset1")
  GeoLocation           GeoLocation?  @relation(fields: [idGeoLocation], references: [idGeoLocation], onDelete: NoAction, onUpdate: NoAction, map: "fk_subject_geolocation1")
  Identifier            Identifier?   @relation(fields: [idIdentifierPreferred], references: [idIdentifier], onDelete: NoAction, onUpdate: NoAction, map: "fk_subject_identifier1")
  Unit                  Unit          @relation(fields: [idUnit], references: [idUnit], onDelete: NoAction, onUpdate: NoAction, map: "fk_subject_unit1")
  SystemObject          SystemObject?

  @@index([idAssetThumbnail], map: "fk_subject_asset1")
  @@index([idGeoLocation], map: "fk_subject_geolocation1")
  @@index([idIdentifierPreferred], map: "fk_subject_identifier1")
  @@index([idUnit], map: "fk_subject_unit1")
}

model SystemObject {
  idSystemObject                                                        Int                               @id @default(autoincrement())
  idUnit                                                                Int?                              @unique(map: "idUnit")
  idProject                                                             Int?                              @unique(map: "idProject")
  idSubject                                                             Int?                              @unique(map: "idSubject")
  idItem                                                                Int?                              @unique(map: "idItem")
  idCaptureData                                                         Int?                              @unique(map: "idCaptureData")
  idModel                                                               Int?                              @unique(map: "idModel")
  idScene                                                               Int?                              @unique(map: "idScene")
  idIntermediaryFile                                                    Int?                              @unique(map: "idIntermediaryFile")
  idAsset                                                               Int?                              @unique(map: "idAsset")
  idAssetVersion                                                        Int?                              @unique(map: "idAssetVersion")
  idProjectDocumentation                                                Int?                              @unique(map: "idProjectDocumentation")
  idActor                                                               Int?                              @unique(map: "idActor")
  idStakeholder                                                         Int?                              @unique(map: "idStakeholder")
  Retired                                                               Boolean
  AccessContextObject                                                   AccessContextObject[]
  Asset_Asset_idSystemObjectToSystemObject                              Asset[]                           @relation("Asset_idSystemObjectToSystemObject")
  AssetVersion_AssetVersion_idSOAttachmentToSystemObject                AssetVersion[]                    @relation("AssetVersion_idSOAttachmentToSystemObject")
  Audit                                                                 Audit[]
  Identifier                                                            Identifier[]
  LicenseAssignment                                                     LicenseAssignment[]
  Metadata_Metadata_idSystemObjectToSystemObject                        Metadata[]                        @relation("Metadata_idSystemObjectToSystemObject")
  Metadata_Metadata_idSystemObjectParentToSystemObject                  Metadata[]                        @relation("Metadata_idSystemObjectParentToSystemObject")
  Actor                                                                 Actor?                            @relation(fields: [idActor], references: [idActor], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_actor1")
  Asset_AssetToSystemObject_idAsset                                     Asset?                            @relation("AssetToSystemObject_idAsset", fields: [idAsset], references: [idAsset], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_asset1")
  AssetVersion_AssetVersionToSystemObject_idAssetVersion                AssetVersion?                     @relation("AssetVersionToSystemObject_idAssetVersion", fields: [idAssetVersion], references: [idAssetVersion], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_assetversion1")
  CaptureData                                                           CaptureData?                      @relation(fields: [idCaptureData], references: [idCaptureData], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_capturedata1")
  IntermediaryFile                                                      IntermediaryFile?                 @relation(fields: [idIntermediaryFile], references: [idIntermediaryFile], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_intermediaryfile1")
  Item                                                                  Item?                             @relation(fields: [idItem], references: [idItem], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_item1")
  Model                                                                 Model?                            @relation(fields: [idModel], references: [idModel], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_model1")
  Project                                                               Project?                          @relation(fields: [idProject], references: [idProject], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_project1")
  ProjectDocumentation                                                  ProjectDocumentation?             @relation(fields: [idProjectDocumentation], references: [idProjectDocumentation], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_projectdocumentation1")
  Scene                                                                 Scene?                            @relation(fields: [idScene], references: [idScene], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_scene1")
  Stakeholder                                                           Stakeholder?                      @relation(fields: [idStakeholder], references: [idStakeholder], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_stakeholder1")
  Subject                                                               Subject?                          @relation(fields: [idSubject], references: [idSubject], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_subject1")
  Unit                                                                  Unit?                             @relation(fields: [idUnit], references: [idUnit], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobject_unit1")
  SystemObjectVersion                                                   SystemObjectVersion[]
  SystemObjectXref_SystemObjectToSystemObjectXref_idSystemObjectMaster  SystemObjectXref[]                @relation("SystemObjectToSystemObjectXref_idSystemObjectMaster")
  SystemObjectXref_SystemObjectToSystemObjectXref_idSystemObjectDerived SystemObjectXref[]                @relation("SystemObjectToSystemObjectXref_idSystemObjectDerived")
  UserPersonalizationSystemObject                                       UserPersonalizationSystemObject[]
  WorkflowStepSystemObjectXref                                          WorkflowStepSystemObjectXref[]

  @@index([idActor], map: "SystemObject_idActor")
  @@index([idAsset], map: "SystemObject_idAsset")
  @@index([idAssetVersion], map: "SystemObject_idAssetVersion")
  @@index([idCaptureData], map: "SystemObject_idCaptureData")
  @@index([idIntermediaryFile], map: "SystemObject_idIntermediaryFile")
  @@index([idItem], map: "SystemObject_idItem")
  @@index([idModel], map: "SystemObject_idModel")
  @@index([idProject], map: "SystemObject_idProject")
  @@index([idProjectDocumentation], map: "SystemObject_idProjectDocumentation")
  @@index([idScene], map: "SystemObject_idScene")
  @@index([idStakeholder], map: "SystemObject_idStakeholder")
  @@index([idSubject], map: "SystemObject_idSubject")
  @@index([idUnit], map: "SystemObject_idUnit")
}

model SystemObjectVersion {
  idSystemObjectVersion               Int                                   @id @default(autoincrement())
  idSystemObject                      Int
  PublishedState                      Int
  DateCreated                         DateTime                              @mariasql.DateTime(0)
  Comment                             String?                               @mariasql.Text
  SystemObject                        SystemObject                          @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobjectversion_systemobject")
  SystemObjectVersionAssetVersionXref SystemObjectVersionAssetVersionXref[]

  @@index([idSystemObject, idSystemObjectVersion], map: "ObjectVersion_idSystemObject_idObjectVersion")
}

model SystemObjectVersionAssetVersionXref {
  idSystemObjectVersionAssetVersionXref Int                 @id @default(autoincrement())
  idSystemObjectVersion                 Int
  idAssetVersion                        Int
  AssetVersion                          AssetVersion        @relation(fields: [idAssetVersion], references: [idAssetVersion], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobjectversionassetversionxref_assetversion")
  SystemObjectVersion                   SystemObjectVersion @relation(fields: [idSystemObjectVersion], references: [idSystemObjectVersion], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobjectversionassetversionxref_systemobjectversion")

  @@index([idAssetVersion], map: "fk_systemobjectversionassetversionxref_assetversion")
  @@index([idSystemObjectVersion], map: "fk_systemobjectversionassetversionxref_systemobjectversion")
}

model SystemObjectXref {
  idSystemObjectXref                                                Int          @id @default(autoincrement())
  idSystemObjectMaster                                              Int
  idSystemObjectDerived                                             Int
  SystemObject_SystemObjectToSystemObjectXref_idSystemObjectMaster  SystemObject @relation("SystemObjectToSystemObjectXref_idSystemObjectMaster", fields: [idSystemObjectMaster], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobjectxref_systemobject1")
  SystemObject_SystemObjectToSystemObjectXref_idSystemObjectDerived SystemObject @relation("SystemObjectToSystemObjectXref_idSystemObjectDerived", fields: [idSystemObjectDerived], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_systemobjectxref_systemobject2")

  @@index([idSystemObjectDerived], map: "SystemObjectXref_idSystemObjectDerived")
  @@index([idSystemObjectMaster], map: "SystemObjectXref_idSystemObjectMaster")
}

model Unit {
  idUnit       Int           @id @default(autoincrement())
  Name         String        @mariasql.VarChar(255)
  Abbreviation String?       @mariasql.VarChar(20)
  ARKPrefix    String?       @mariasql.VarChar(255)
  Actor        Actor[]
  Subject      Subject[]
  SystemObject SystemObject?
  UnitEdan     UnitEdan[]
}

model UnitEdan {
  idUnitEdan   Int     @id @default(autoincrement())
  idUnit       Int?
  Name         String? @mariasql.VarChar(255)
  Abbreviation String  @unique(map: "Abbreviation") @mariasql.VarChar(100)
  Unit         Unit?   @relation(fields: [idUnit], references: [idUnit], onDelete: NoAction, onUpdate: NoAction, map: "fk_unitedan_idunit")

  @@index([Abbreviation], map: "UnitEdan_Abbreviation")
  @@index([idUnit], map: "fk_unitedan_idunit")
}

model User {
  idUser                          Int                               @id @default(autoincrement())
  Name                            String                            @mariasql.VarChar(255)
  EmailAddress                    String                            @mariasql.VarChar(255)
  SecurityID                      String                            @mariasql.VarChar(255)
  Active                          Boolean
  DateActivated                   DateTime                          @mariasql.DateTime(0)
  DateDisabled                    DateTime?                         @mariasql.DateTime(0)
  WorkflowNotificationTime        DateTime?                         @mariasql.Time(0)
  EmailSettings                   Int?
  AccessPolicy                    AccessPolicy[]
  AssetVersion                    AssetVersion[]
  Audit                           Audit[]
  LicenseAssignment               LicenseAssignment[]
  Metadata                        Metadata[]
  Sentinel                        Sentinel[]
  UserPersonalizationSystemObject UserPersonalizationSystemObject[]
  UserPersonalizationUrl          UserPersonalizationUrl[]
  Workflow                        Workflow[]
  WorkflowStep                    WorkflowStep[]

  @@index([EmailAddress], map: "user_EmailAddress")
}

model UserPersonalizationSystemObject {
  idUserPersonalizationSystemObject Int          @id @default(autoincrement())
  idUser                            Int
  idSystemObject                    Int
  Personalization                   String?      @mariasql.VarChar(8000)
  SystemObject                      SystemObject @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_userpersonalizationsystemobject_systemobject1")
  User                              User         @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_userpersonalizationsystemobject_user1")

  @@index([idUser], map: "UserPersonalizationObject_idUser")
  @@index([idUser, idSystemObject], map: "UserPersonalizationObject_idUser_idSystemObject")
  @@index([idSystemObject], map: "fk_userpersonalizationsystemobject_systemobject1")
}

model UserPersonalizationUrl {
  idUserPersonalizationUrl Int    @id @default(autoincrement())
  idUser                   Int
  URL                      String @mariasql.VarChar(255)
  Personalization          String @mariasql.VarChar(8000)
  User                     User   @relation(fields: [idUser], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_userpersonalizationurl_user1")

  @@index([idUser, URL], map: "UserPersonalizationUrl_idUser_URL")
}

model Vocabulary {
  idVocabulary                                                             Int                         @id @default(autoincrement())
  idVocabularySet                                                          Int
  SortOrder                                                                Int
  Term                                                                     String                      @mariasql.VarChar(255)
  Asset                                                                    Asset[]
  CaptureData                                                              CaptureData[]
  CaptureDataFile                                                          CaptureDataFile[]
  CaptureDataPhoto_CaptureDataPhoto_idVCaptureDatasetTypeToVocabulary      CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVCaptureDatasetTypeToVocabulary")
  CaptureDataPhoto_CaptureDataPhoto_idVItemPositionTypeToVocabulary        CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVItemPositionTypeToVocabulary")
  CaptureDataPhoto_CaptureDataPhoto_idVFocusTypeToVocabulary               CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVFocusTypeToVocabulary")
  CaptureDataPhoto_CaptureDataPhoto_idVLightSourceTypeToVocabulary         CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVLightSourceTypeToVocabulary")
  CaptureDataPhoto_CaptureDataPhoto_idVBackgroundRemovalMethodToVocabulary CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVBackgroundRemovalMethodToVocabulary")
  CaptureDataPhoto_CaptureDataPhoto_idVClusterTypeToVocabulary             CaptureDataPhoto[]          @relation("CaptureDataPhoto_idVClusterTypeToVocabulary")
  Identifier                                                               Identifier[]
  Job                                                                      Job[]
  Metadata                                                                 Metadata[]
  Model_Model_idVCreationMethodToVocabulary                                Model[]                     @relation("Model_idVCreationMethodToVocabulary")
  Model_Model_idVModalityToVocabulary                                      Model[]                     @relation("Model_idVModalityToVocabulary")
  Model_Model_idVUnitsToVocabulary                                         Model[]                     @relation("Model_idVUnitsToVocabulary")
  Model_Model_idVPurposeToVocabulary                                       Model[]                     @relation("Model_idVPurposeToVocabulary")
  Model_Model_idVFileTypeToVocabulary                                      Model[]                     @relation("Model_idVFileTypeToVocabulary")
  ModelMaterialChannel                                                     ModelMaterialChannel[]
  ModelProcessingActionStep                                                ModelProcessingActionStep[]
  VocabularySet                                                            VocabularySet               @relation(fields: [idVocabularySet], references: [idVocabularySet], onDelete: NoAction, onUpdate: NoAction, map: "fk_vocabulary_vocabularyset1")
  Workflow                                                                 Workflow[]
  WorkflowStep                                                             WorkflowStep[]

  @@index([idVocabularySet, SortOrder], map: "Vocabulary_idVocabulySet_SortOrder")
}

model VocabularySet {
  idVocabularySet  Int          @id @default(autoincrement())
  Name             String       @mariasql.VarChar(255)
  SystemMaintained Boolean
  Vocabulary       Vocabulary[]
}

model Workflow {
  idWorkflow      Int              @id @default(autoincrement())
  idVWorkflowType Int
  idProject       Int?
  idUserInitiator Int?
  DateInitiated   DateTime         @mariasql.DateTime(0)
  DateUpdated     DateTime         @mariasql.DateTime(0)
  Parameters      String?          @mariasql.Text
  idWorkflowSet   Int?
  Project         Project?         @relation(fields: [idProject], references: [idProject], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflow_project1")
  User            User?            @relation(fields: [idUserInitiator], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflow_user1")
  Vocabulary      Vocabulary       @relation(fields: [idVWorkflowType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflow_vocabulary1")
  WorkflowSet     WorkflowSet?     @relation(fields: [idWorkflowSet], references: [idWorkflowSet], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflow_workflowset1")
  WorkflowReport  WorkflowReport[]
  WorkflowStep    WorkflowStep[]

  @@index([idProject], map: "Workflow_idProject")
  @@index([idUserInitiator], map: "Workflow_idUserInitiator")
  @@index([idVWorkflowType], map: "fk_workflow_vocabulary1")
  @@index([idWorkflowSet], map: "fk_workflow_workflowset1")
}

model WorkflowReport {
  idWorkflowReport Int      @id @default(autoincrement())
  idWorkflow       Int
  MimeType         String   @mariasql.VarChar(256)
  Data             String   @mariasql.LongText
  Name             String   @mariasql.VarChar(512)
  Workflow         Workflow @relation(fields: [idWorkflow], references: [idWorkflow], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowreport_workflow1")

  @@index([idWorkflow], map: "fk_workflowreport_workflow1")
}

model WorkflowSet {
  idWorkflowSet Int        @id @default(autoincrement())
  Workflow      Workflow[]
}

model WorkflowStep {
  idWorkflowStep               Int                            @id @default(autoincrement())
  idWorkflow                   Int
  idJobRun                     Int?
  idUserOwner                  Int?
  idVWorkflowStepType          Int
  State                        Int
  DateCreated                  DateTime                       @mariasql.DateTime(0)
  DateCompleted                DateTime?                      @mariasql.DateTime(0)
  JobRun                       JobRun?                        @relation(fields: [idJobRun], references: [idJobRun], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstep_jobrun1")
  User                         User?                          @relation(fields: [idUserOwner], references: [idUser], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstep_user1")
  Vocabulary                   Vocabulary                     @relation(fields: [idVWorkflowStepType], references: [idVocabulary], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstep_vocabulary1")
  Workflow                     Workflow                       @relation(fields: [idWorkflow], references: [idWorkflow], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstep_workflow1")
  WorkflowStepSystemObjectXref WorkflowStepSystemObjectXref[]

  @@index([State, idWorkflow], map: "WorkflowStep_State_idWorkflow")
  @@index([idJobRun], map: "WorkflowStep_idJobRun")
  @@index([idUserOwner], map: "WorkflowStep_idUserOwner")
  @@index([idWorkflow, DateCompleted], map: "WorkflowStep_idWorkflow_DateCompleted")
  @@index([idWorkflow, DateCreated], map: "WorkflowStep_idWorkflow_DateCreated")
  @@index([idVWorkflowStepType], map: "fk_workflowstep_vocabulary1")
}

model WorkflowStepSystemObjectXref {
  idWorkflowStepSystemObjectXref Int          @id @default(autoincrement())
  idWorkflowStep                 Int
  idSystemObject                 Int
  Input                          Boolean
  SystemObject                   SystemObject @relation(fields: [idSystemObject], references: [idSystemObject], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstepsystemobjectxref_systemobject1")
  WorkflowStep                   WorkflowStep @relation(fields: [idWorkflowStep], references: [idWorkflowStep], onDelete: NoAction, onUpdate: NoAction, map: "fk_workflowstepsystemobjectxref_workflowstep1")

  @@index([idSystemObject, Input], map: "WorkflowStepSystemObjectXref_idSystemObject_Input")
  @@index([idWorkflowStep, Input], map: "WorkflowStepSystemObjectXref_idWorkflowStep_Input")
}

model CookResource {
  idCookResource    Int    @id @default(autoincrement())
  Name              String @mariasql.VarChar(256)
  Address           String @mariasql.VarChar(256)
  Port              Int
  Inspection        Int
  SceneGeneration   Int
  GenerateDownloads Int
  Photogrammetry    Int
  LargeFiles        Int
  MachineType       String @mariasql.VarChar(256)
}
